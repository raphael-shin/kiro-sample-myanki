# Requirements Document

## Introduction

이 문서는 MyAnki 애플리케이션의 학습 세션 시스템과 학습 통계 및 진행률 추적 기능에 대한 요구사항을 정의합니다. 이 기능들은 사용자가 실제로 플래시카드를 학습하고, 자신의 학습 진행률을 추적할 수 있게 하는 핵심 기능입니다. SM-2 간격 반복 알고리즘을 활용하여 최적화된 학습 경험을 제공하며, 상세한 통계 정보를 통해 학습 성과를 분석할 수 있습니다.

## Requirements

### Requirement 1: 학습 세션 시작 및 관리

**User Story:** 사용자로서, 선택한 덱에 대해 학습 세션을 시작하여 체계적으로 카드를 학습하고 싶습니다.

#### Acceptance Criteria

1. WHEN 사용자가 덱을 선택하고 "학습 시작" 버튼을 클릭 THEN 시스템은 해당 덱의 학습 가능한 카드들을 로드하여 학습 세션을 시작해야 합니다
2. WHEN 학습 세션이 시작 THEN 시스템은 SM-2 알고리즘에 따라 우선순위가 높은 카드부터 표시해야 합니다
3. WHEN 학습할 카드가 없는 경우 THEN 시스템은 "학습할 카드가 없습니다" 메시지를 표시하고 다음 복습 예정 시간을 안내해야 합니다
4. WHEN 사용자가 학습 세션을 중단하려고 할 때 THEN 시스템은 현재까지의 진행률을 저장하고 확인 메시지를 표시해야 합니다

### Requirement 2: 카드 표시 및 상호작용

**User Story:** 사용자로서, 카드의 앞면을 보고 답을 생각한 후 뒷면을 확인하여 학습하고 싶습니다.

#### Acceptance Criteria

1. WHEN 학습 세션에서 카드가 표시 THEN 시스템은 먼저 카드의 앞면(front)만 표시해야 합니다
2. WHEN 사용자가 "답 보기" 버튼을 클릭 THEN 시스템은 카드의 뒷면(back)을 표시해야 합니다
3. WHEN 카드의 뒷면이 표시 THEN 시스템은 4개의 답변 평가 버튼(Again, Hard, Good, Easy)을 제공해야 합니다
4. WHEN 사용자가 키보드를 사용하는 경우 THEN 시스템은 스페이스바로 답 보기, 숫자 키(1-4)로 답변 평가를 지원해야 합니다

### Requirement 3: 답변 평가 및 알고리즘 적용

**User Story:** 사용자로서, 카드에 대한 답변의 난이도를 평가하여 다음 복습 일정이 적절히 조정되기를 원합니다.

#### Acceptance Criteria

1. WHEN 사용자가 "Again" 버튼을 클릭 THEN 시스템은 SM-2 알고리즘을 적용하여 카드를 다시 학습 대기열에 추가해야 합니다
2. WHEN 사용자가 "Hard" 버튼을 클릭 THEN 시스템은 용이도 인수를 감소시키고 짧은 간격으로 다음 복습을 스케줄해야 합니다
3. WHEN 사용자가 "Good" 버튼을 클릭 THEN 시스템은 표준 SM-2 간격으로 다음 복습을 스케줄해야 합니다
4. WHEN 사용자가 "Easy" 버튼을 클릭 THEN 시스템은 용이도 인수를 증가시키고 긴 간격으로 다음 복습을 스케줄해야 합니다
5. WHEN 답변 평가가 완료 THEN 시스템은 학습 기록을 데이터베이스에 저장하고 다음 카드로 진행해야 합니다

### Requirement 4: 학습 진행률 표시

**User Story:** 사용자로서, 현재 학습 세션의 진행률을 실시간으로 확인하여 학습 동기를 유지하고 싶습니다.

#### Acceptance Criteria

1. WHEN 학습 세션이 진행 중 THEN 시스템은 현재 카드 번호와 전체 카드 수를 표시해야 합니다
2. WHEN 학습 세션이 진행 중 THEN 시스템은 진행률을 백분율과 프로그레스 바로 표시해야 합니다
3. WHEN 사용자가 카드에 답변 THEN 시스템은 실시간으로 진행률을 업데이트해야 합니다
4. WHEN 학습 세션이 완료 THEN 시스템은 세션 요약 정보(학습한 카드 수, 소요 시간, 정답률)를 표시해야 합니다

### Requirement 5: 덱별 학습 통계

**User Story:** 사용자로서, 각 덱의 학습 통계를 확인하여 학습 성과를 파악하고 싶습니다.

#### Acceptance Criteria

1. WHEN 사용자가 덱 상세 페이지에 접근 THEN 시스템은 해당 덱의 총 카드 수, 신규 카드 수, 학습 중인 카드 수, 완료된 카드 수를 표시해야 합니다
2. WHEN 덱 통계가 표시 THEN 시스템은 각 카테고리별 카드 수를 시각적 차트로 표현해야 합니다
3. WHEN 사용자가 통계 정보를 요청 THEN 시스템은 최근 7일, 30일 학습 활동을 그래프로 표시해야 합니다
4. WHEN 덱에 학습 기록이 있는 경우 THEN 시스템은 평균 정답률, 평균 학습 시간, 가장 어려운 카드 등의 상세 통계를 제공해야 합니다

### Requirement 6: 개별 카드 학습 이력

**User Story:** 사용자로서, 개별 카드의 학습 이력을 확인하여 어떤 카드가 어려운지 파악하고 싶습니다.

#### Acceptance Criteria

1. WHEN 사용자가 카드 상세 정보에 접근 THEN 시스템은 해당 카드의 총 학습 횟수, 정답률, 현재 용이도 인수를 표시해야 합니다
2. WHEN 카드 이력이 표시 THEN 시스템은 최근 학습 기록들을 시간순으로 나열해야 합니다
3. WHEN 카드에 학습 기록이 있는 경우 THEN 시스템은 다음 복습 예정 날짜와 현재 간격을 표시해야 합니다
4. WHEN 사용자가 카드 이력을 확인 THEN 시스템은 각 학습 세션에서의 답변 평가(Again, Hard, Good, Easy)를 기록과 함께 표시해야 합니다

### Requirement 7: 전체 학습 진행률 대시보드

**User Story:** 사용자로서, 전체적인 학습 진행률과 성과를 한눈에 파악할 수 있는 대시보드를 원합니다.

#### Acceptance Criteria

1. WHEN 사용자가 대시보드에 접근 THEN 시스템은 전체 덱의 학습 진행률을 요약하여 표시해야 합니다
2. WHEN 대시보드가 로드 THEN 시스템은 오늘 학습한 카드 수, 이번 주 학습 시간, 전체 정답률을 표시해야 합니다
3. WHEN 사용자가 성과 분석을 요청 THEN 시스템은 학습 패턴 분석(가장 활발한 학습 시간대, 요일별 학습량 등)을 제공해야 합니다
4. WHEN 대시보드에 여러 덱이 있는 경우 THEN 시스템은 각 덱별 진행률을 비교할 수 있는 시각적 표현을 제공해야 합니다

### Requirement 8: 학습 목표 설정 및 추적

**User Story:** 사용자로서, 일일 학습 목표를 설정하고 달성 여부를 추적하여 꾸준한 학습 습관을 만들고 싶습니다.

#### Acceptance Criteria

1. WHEN 사용자가 설정 페이지에 접근 THEN 시스템은 일일 학습 목표(카드 수 또는 시간)를 설정할 수 있는 옵션을 제공해야 합니다
2. WHEN 일일 목표가 설정 THEN 시스템은 대시보드에서 현재 달성률을 프로그레스 바로 표시해야 합니다
3. WHEN 사용자가 목표를 달성 THEN 시스템은 축하 메시지와 함께 달성 기록을 저장해야 합니다
4. WHEN 목표 추적이 활성화 THEN 시스템은 주간, 월간 목표 달성률 통계를 제공해야 합니다

### Requirement 9: 오프라인 학습 지원

**User Story:** 사용자로서, 인터넷 연결이 없는 환경에서도 학습을 계속하고 나중에 동기화하고 싶습니다.

#### Acceptance Criteria

1. WHEN 사용자가 오프라인 상태에서 학습 THEN 시스템은 로컬 데이터베이스를 사용하여 정상적으로 학습 세션을 진행해야 합니다
2. WHEN 오프라인에서 학습 기록이 생성 THEN 시스템은 모든 데이터를 IndexedDB에 저장해야 합니다
3. WHEN 네트워크 연결이 복구 THEN 시스템은 자동으로 오프라인 기간의 학습 데이터를 확인하고 통계를 업데이트해야 합니다
4. WHEN 오프라인 모드에서 통계 조회 THEN 시스템은 로컬에 저장된 데이터를 기반으로 통계 정보를 제공해야 합니다