# Requirements Document

## Introduction

이 기능은 MyAnki 애플리케이션의 핵심 학습 시스템을 구현합니다. 사용자가 플래시카드 덱을 관리하고, 카드를 편집하며, 간격 반복 알고리즘을 통한 효율적인 학습을 할 수 있는 통합 시스템입니다. 기존의 데이터 모델(Deck, Card, StudySession)을 기반으로 실제 사용자 인터페이스와 학습 로직을 구현합니다.

## Requirements

### Requirement 1: 덱 관리 시스템

**User Story:** 사용자로서 플래시카드 덱을 생성, 편집, 삭제할 수 있어야 하며, 덱 목록을 조회하고 관리할 수 있어야 합니다.

#### Acceptance Criteria

1. WHEN 사용자가 새 덱 생성을 요청하면 THEN 시스템은 덱 이름과 설명을 입력받아 새로운 덱을 생성해야 합니다
2. WHEN 사용자가 덱 목록을 조회하면 THEN 시스템은 모든 덱을 이름, 카드 수, 마지막 학습 날짜와 함께 표시해야 합니다
3. WHEN 사용자가 덱을 선택하면 THEN 시스템은 덱 상세 정보와 포함된 카드 목록을 표시해야 합니다
4. WHEN 사용자가 덱 정보를 수정하면 THEN 시스템은 덱 이름과 설명을 업데이트해야 합니다
5. WHEN 사용자가 덱 삭제를 요청하면 THEN 시스템은 확인 후 덱과 관련된 모든 카드 및 학습 기록을 삭제해야 합니다
6. IF 덱에 카드가 있는 상태에서 삭제를 시도하면 THEN 시스템은 경고 메시지를 표시하고 사용자 확인을 요구해야 합니다

### Requirement 2: 카드 편집 시스템

**User Story:** 사용자로서 Basic 타입의 플래시카드(앞면/뒷면)를 생성, 편집, 삭제할 수 있어야 하며, 카드를 특정 덱에 추가할 수 있어야 합니다.

#### Acceptance Criteria

1. WHEN 사용자가 새 카드 생성을 요청하면 THEN 시스템은 앞면(front)과 뒷면(back) 내용을 입력받아 Basic 타입 카드를 생성해야 합니다
2. WHEN 사용자가 카드를 편집하면 THEN 시스템은 앞면과 뒷면 내용을 수정할 수 있어야 합니다
3. WHEN 사용자가 카드를 삭제하면 THEN 시스템은 확인 후 카드와 관련된 학습 기록을 삭제해야 합니다
4. WHEN 사용자가 카드를 다른 덱으로 이동하면 THEN 시스템은 카드의 덱 ID를 업데이트해야 합니다
5. WHEN 사용자가 카드 목록을 조회하면 THEN 시스템은 카드를 생성일, 수정일, 학습 상태별로 정렬하여 표시해야 합니다
6. IF 카드 내용이 비어있으면 THEN 시스템은 유효성 검사 오류를 표시해야 합니다

### Requirement 3: 간격 반복 알고리즘 엔진

**User Story:** 사용자로서 과학적으로 검증된 간격 반복 알고리즘을 통해 최적의 학습 스케줄로 카드를 복습할 수 있어야 합니다.

#### Acceptance Criteria

1. WHEN 사용자가 카드에 대한 답변을 평가하면 THEN 시스템은 SM-2 알고리즘을 사용하여 다음 복습 날짜를 계산해야 합니다
2. WHEN 사용자가 "Again" (1점)을 선택하면 THEN 시스템은 카드를 1분 후 다시 표시하도록 스케줄해야 합니다
3. WHEN 사용자가 "Hard" (2점)을 선택하면 THEN 시스템은 이전 간격의 1.2배로 다음 간격을 설정해야 합니다
4. WHEN 사용자가 "Good" (3점)을 선택하면 THEN 시스템은 현재 용이도 인수(EF)를 사용하여 간격을 계산해야 합니다
5. WHEN 사용자가 "Easy" (4점)을 선택하면 THEN 시스템은 간격을 1.3배 증가시키고 EF를 0.15 증가시켜야 합니다
6. WHEN 카드의 반복 횟수가 증가하면 THEN 시스템은 용이도 인수를 업데이트하여 개인화된 학습 패턴을 반영해야 합니다
7. IF 계산된 간격이 1일 미만이면 THEN 시스템은 최소 1일로 설정해야 합니다

### Requirement 4: 학습 세션 관리

**User Story:** 사용자로서 오늘 학습해야 할 카드들을 모아서 학습 세션을 시작하고, 각 카드에 대한 답변을 평가하여 학습을 진행할 수 있어야 합니다.

#### Acceptance Criteria

1. WHEN 사용자가 학습을 시작하면 THEN 시스템은 오늘 복습해야 할 카드들을 우선순위에 따라 제시해야 합니다
2. WHEN 사용자가 카드의 앞면을 확인한 후 답변을 생각하면 THEN 시스템은 "답안 보기" 버튼을 제공해야 합니다
3. WHEN 사용자가 답안을 확인하면 THEN 시스템은 4단계 평가 버튼(Again, Hard, Good, Easy)을 제공해야 합니다
4. WHEN 사용자가 평가를 완료하면 THEN 시스템은 간격 반복 알고리즘을 적용하여 다음 복습 일정을 업데이트해야 합니다
5. WHEN 학습 세션이 완료되면 THEN 시스템은 학습 통계(총 카드 수, 정답률, 소요 시간)를 표시해야 합니다
6. IF 학습할 카드가 없으면 THEN 시스템은 "오늘 학습할 카드가 없습니다" 메시지를 표시해야 합니다

### Requirement 5: 학습 진행률 추적

**User Story:** 사용자로서 내 학습 진행 상황을 시각적으로 확인하고, 덱별 학습 통계를 조회할 수 있어야 합니다.

#### Acceptance Criteria

1. WHEN 사용자가 덱을 선택하면 THEN 시스템은 해당 덱의 학습 진행률을 백분율로 표시해야 합니다
2. WHEN 사용자가 통계를 조회하면 THEN 시스템은 신규/학습중/완료 카드 수를 구분하여 표시해야 합니다
3. WHEN 사용자가 일별 학습 기록을 확인하면 THEN 시스템은 최근 30일간의 학습 활동을 그래프로 표시해야 합니다
4. WHEN 사용자가 카드별 상세 정보를 조회하면 THEN 시스템은 반복 횟수, 용이도 인수, 다음 복습 날짜를 표시해야 합니다
5. IF 사용자가 연속 학습 일수를 달성하면 THEN 시스템은 성취 배지나 메시지를 표시해야 합니다